	package frmQLCafe;
	
	import javax.swing.JFrame;
	import javax.swing.JLabel;
	//import javax.swing.SwingConstants;
	import java.awt.EventQueue;
	import java.io.Serializable;
	import javax.swing.JPanel;
	import java.awt.Color;
	import java.awt.Font;
	import javax.swing.JTextField;
	import javax.swing.JButton;
	import javax.swing.border.TitledBorder;
	import javax.swing.border.EtchedBorder;
	
	import javax.swing.JTable;
	import javax.swing.JTextArea;
	import javax.swing.ImageIcon;
	
	
	import javax.swing.table.DefaultTableModel;
	
	import java.sql.*;
	import java.util.Vector;
	
	import javax.swing.JScrollPane;
	import javax.swing.JSpinner;

	import java.awt.event.ActionListener;
	import java.awt.event.ActionEvent;
	
	
	import java.awt.Dimension;
	
	
	import java.awt.Component;

	import javax.swing.event.DocumentEvent;
	import javax.swing.event.DocumentListener;
	


	import javax.swing.JOptionPane;

	
	import javax.swing.*;
	import javax.swing.border.*;
	import java.awt.*;
	import java.awt.event.*;
	import java.sql.*;
	import java.util.*;

	public class frmQuanLyMenu extends JFrame implements Serializable {

	    private static final long serialVersionUID = 1L;
	    private JPanel panel_DSSP;

	    // Kết nối cơ sở dữ liệu
	    private static final String URL = "jdbc:mysql://localhost:3306/cafe";
	    private static final String USER = "root";
	    private static final String PASSWORD = "";

	    public static void main(String[] args) {
	        EventQueue.invokeLater(() -> {
	            try {
	                frmQuanLyMenu window = new frmQuanLyMenu();
	                window.setVisible(true);
	            } catch (Exception e) {
	                e.printStackTrace();
	            }
	        });
	    }

	    public frmQuanLyMenu() {
	        getContentPane().setBackground(new Color(255, 255, 255));
	        initialize();
	        loadDataToTable();
	    }

	    private void initialize() {
	        // Các phần giao diện khác ở đây

	        panel_DSSP = new JPanel();
	        panel_DSSP.setBackground(new Color(255, 255, 255));
	        panel_DSSP.setLayout(new FlowLayout(FlowLayout.LEFT)); // Sử dụng FlowLayout để các sản phẩm hiển thị theo hàng ngang
	        panel_DSSP.setPreferredSize(new Dimension(1000, 1000)); // Đặt kích thước ưu tiên cho panel_DSSP
	        JScrollPane scrollPanePanel_DSSP = new JScrollPane(panel_DSSP);
	        scrollPanePanel_DSSP.setBorder(new TitledBorder(null, "Danh Sách Sản Phẩm", TitledBorder.LEADING, TitledBorder.TOP, null, null));
	        scrollPanePanel_DSSP.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
	        scrollPanePanel_DSSP.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
	        scrollPanePanel_DSSP.setBounds(10, 104, 1100, 600);
	        getContentPane().add(scrollPanePanel_DSSP);
	    }

	    private void loadDataToTable() {
	        Connection conn = getConnection();
	        if (conn != null) {
	            try {
	                Statement stmt = conn.createStatement();
	                String query = "SELECT * FROM sanpham";
	                ResultSet rs = stmt.executeQuery(query);
	                
	                while (rs.next()) {
	                    int maSanPham = rs.getInt("MaSanPham");
	                    String tenSanPham = rs.getString("Ten");
	                    double giaSanPham = rs.getDouble("Gia");
	                    String linkAnh = rs.getString("LinkSP");
	                    
	                    // Tạo panel cho sản phẩm
	                    JPanel panelSanPham = createProductPanel(maSanPham, tenSanPham, giaSanPham, linkAnh);
	                    
	                    // Thêm panel sản phẩm vào panel_DSSP
	                    panel_DSSP.add(panelSanPham);
	                }
	                
	                rs.close();
	                stmt.close();
	                conn.close();
	            } catch (SQLException e) {
	                e.printStackTrace();
	            }
	        }
	    }

	    private JPanel createProductPanel(int maSanPham, String tenSanPham, double giaSanPham, String linkAnh) {
	        JPanel panel = new JPanel();
	        panel.setPreferredSize(new Dimension(150, 200));
	        panel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, new Color(255, 255, 255), new Color(160, 160, 160)));
	        panel.setLayout(new BorderLayout());

	        // Hình ảnh sản phẩm
	        JLabel lblHinhAnh = new JLabel();
	        lblHinhAnh.setIcon(new ImageIcon(linkAnh));
	        lblHinhAnh.setHorizontalAlignment(SwingConstants.CENTER);
	        panel.add(lblHinhAnh, BorderLayout.CENTER);

	        // Tên sản phẩm
	        JLabel lblTenSanPham = new JLabel(tenSanPham);
	        lblTenSanPham.setFont(new Font("Tahoma", Font.BOLD, 12));
	        lblTenSanPham.setHorizontalAlignment(SwingConstants.CENTER);
	        panel.add(lblTenSanPham, BorderLayout.SOUTH);

	        // Giá sản phẩm
	        JLabel lblGiaSanPham = new JLabel("Giá: " + giaSanPham + " VND");
	        lblGiaSanPham.setFont(new Font("Tahoma", Font.PLAIN, 10));
	        lblGiaSanPham.setHorizontalAlignment(SwingConstants.CENTER);
	        panel.add(lblGiaSanPham, BorderLayout.NORTH);

	        // Bắt sự kiện khi click vào sản phẩm
	        panel.addMouseListener(new MouseAdapter() {
	            @Override
	            public void mouseClicked(MouseEvent e) {
	                // Xử lý sự kiện khi click vào sản phẩm
	                // Ví dụ: Hiển thị thông tin chi tiết sản phẩm hoặc thêm sản phẩm vào giỏ hàng
	            }
	        });

	        return panel;
	    }

	    private Connection getConnection() {
	        try {
	            Class.forName("com.mysql.cj.jdbc.Driver");
	            return DriverManager.getConnection(URL, USER, PASSWORD);
	        } catch (ClassNotFoundException | SQLException e) {
	            e.printStackTrace();
	            return null;
	        }
	    }
	}
